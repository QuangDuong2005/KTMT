$date
	Fri Jan 02 20:39:14 2026
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_parser_bitstream_integration $end
$var wire 1 ! start_scan $end
$var wire 1 " scan_byte_valid $end
$var wire 8 # scan_byte_out [7:0] $end
$var wire 1 $ parser_ready $end
$var wire 1 % bitstream_byte_ready $end
$var wire 1 & bit_valid $end
$var wire 1 ' bit_out $end
$var reg 1 ( bit_ready_from_huffman $end
$var reg 8 ) byte_in [7:0] $end
$var reg 1 * byte_valid $end
$var reg 1 + clk $end
$var reg 1 , rst_n $end
$var integer 32 - bit_cnt [31:0] $end
$var integer 32 . idx [31:0] $end
$scope module u_parser $end
$var wire 8 / byte_in [7:0] $end
$var wire 1 * byte_valid $end
$var wire 1 + clk $end
$var wire 1 , rst_n $end
$var parameter 8 0 DHT $end
$var parameter 8 1 DQT $end
$var parameter 8 2 SOF0 $end
$var parameter 8 3 SOI $end
$var parameter 8 4 SOS $end
$var parameter 5 5 S_DONE_HDR $end
$var parameter 5 6 S_FIND_FF $end
$var parameter 5 7 S_GOT_FF $end
$var parameter 5 8 S_IDLE $end
$var parameter 5 9 S_PASS_THROUGH $end
$var parameter 5 : S_READ_DHT $end
$var parameter 5 ; S_READ_DQT $end
$var parameter 5 < S_READ_LEN_H $end
$var parameter 5 = S_READ_LEN_L $end
$var parameter 5 > S_READ_SOF0 $end
$var parameter 5 ? S_SEG_PROCESS $end
$var parameter 5 @ S_SKIP_SEG $end
$var reg 16 A byte_cnt [15:0] $end
$var reg 16 B bytes_left [15:0] $end
$var reg 1 C cur_dht_tc $end
$var reg 4 D cur_dht_th [3:0] $end
$var reg 8 E cur_marker [7:0] $end
$var reg 2 F cur_qtable_id [1:0] $end
$var reg 1 G cur_qtable_pq $end
$var reg 4 H dht_len_index [3:0] $end
$var reg 9 I dht_sym_count [8:0] $end
$var reg 9 J dht_symbol_index [8:0] $end
$var reg 16 K dht_symbols_to_read [15:0] $end
$var reg 1 L dht_table_class $end
$var reg 4 M dht_table_id [3:0] $end
$var reg 1 N dhttable_loaded $end
$var reg 16 O img_height [15:0] $end
$var reg 16 P img_width [15:0] $end
$var reg 8 Q last_byte [7:0] $end
$var reg 5 R next_state [4:0] $end
$var reg 1 $ parser_ready $end
$var reg 7 S q_coeff_index [6:0] $end
$var reg 2 T qtable_id_loaded [1:0] $end
$var reg 1 U qtable_loaded $end
$var reg 1 V saw_ff $end
$var reg 8 W scan_byte_out [7:0] $end
$var reg 1 " scan_byte_valid $end
$var reg 16 X seg_len [15:0] $end
$var reg 1 ! start_scan $end
$var reg 5 Y state [4:0] $end
$var reg 1 Z waiting_second_byte $end
$var integer 32 [ i [31:0] $end
$var integer 32 \ j [31:0] $end
$upscope $end
$scope module u_reader $end
$var wire 1 ( bit_ready $end
$var wire 8 ] byte_in [7:0] $end
$var wire 1 " byte_valid $end
$var wire 1 + clk $end
$var wire 1 , rst_n $end
$var wire 1 ' bit_out $end
$var reg 3 ^ bit_cnt [2:0] $end
$var reg 1 & bit_valid $end
$var reg 1 % byte_ready $end
$var reg 1 _ has_data $end
$var reg 1 ` prev_byte_was_ff $end
$var reg 8 a shift_reg [7:0] $end
$upscope $end
$scope task send_byte $end
$var reg 8 b data [7:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b1001 @
b101 ?
b110 >
b100 =
b11 <
b111 ;
b1000 :
b1011 9
b0 8
b10 7
b1 6
b1010 5
b11011010 4
b11011000 3
b11000000 2
b11011011 1
b11000100 0
$end
#0
$dumpvars
bx b
b0 a
0`
0_
b111 ^
b0 ]
b100 \
b10 [
xZ
b0 Y
b0 X
b0 W
0V
0U
b0 T
bx S
b1 R
bx Q
b0 P
b0 O
0N
b0 M
0L
bx K
bx J
b0 I
bx H
xG
bx F
b0 E
bx D
xC
b0 B
b0 A
b0 /
b100011 .
b0 -
0,
0+
0*
b0 )
0(
0'
0&
1%
1$
b0 #
0"
0!
$end
#5000
b100 \
b10 [
1+
#10000
0+
#15000
b100 \
b10 [
1+
#20000
0+
b11111111 b
b0 .
1,
#25000
b10 R
b1 Y
1*
b11111111 )
b11111111 /
1+
#30000
0+
#35000
1V
b10 Y
0*
1+
#36000
b11011000 b
b1 .
#40000
0+
#45000
b1 R
1*
b11011000 )
b11011000 /
1+
#50000
0+
#55000
b11011000 E
b1 Y
0*
1+
#56000
b11111111 b
b10 .
#60000
0+
#65000
b10 R
1*
b11111111 )
b11111111 /
1+
#70000
0+
#75000
b10 Y
0*
1+
#76000
b11000000 b
b11 .
#80000
0+
#85000
b11 R
1*
b11000000 )
b11000000 /
1+
#90000
0+
#95000
b11000000 E
b11 Y
0*
1+
#96000
b0 b
b100 .
#100000
0+
#105000
b100 R
1*
b0 )
b0 /
1+
#110000
0+
#115000
b100 Y
0*
1+
#116000
b10001 b
b101 .
#120000
0+
#125000
b110 R
1*
b10001 )
b10001 /
1+
#130000
0+
#135000
b1111 B
b10001 X
b110 Y
0*
1+
#136000
b10101010 b
b110 .
#140000
0+
#145000
1*
b10101010 )
b10101010 /
1+
#150000
0+
#155000
b1110 B
b1 A
0*
1+
#156000
b111 .
#160000
0+
#165000
1*
1+
#170000
0+
#175000
b1101 B
b10 A
b1010101000000000 O
0*
1+
#176000
b1000 .
#180000
0+
#185000
1*
1+
#190000
0+
#195000
b1100 B
b11 A
b1010101010101010 O
0*
1+
#196000
b1001 .
#200000
0+
#205000
1*
1+
#210000
0+
#215000
b1011 B
b100 A
b1010101000000000 P
0*
1+
#216000
b1010 .
#220000
0+
#225000
1*
1+
#230000
0+
#235000
b1010 B
b101 A
b1010101010101010 P
0*
1+
#236000
b1011 .
#240000
0+
#245000
1*
1+
#250000
0+
#255000
b1001 B
b110 A
0*
1+
#256000
b1100 .
#260000
0+
#265000
1*
1+
#270000
0+
#275000
b1000 B
b111 A
0*
1+
#276000
b1101 .
#280000
0+
#285000
1*
1+
#290000
0+
#295000
b111 B
b1000 A
0*
1+
#296000
b1110 .
#300000
0+
#305000
1*
1+
#310000
0+
#315000
b110 B
b1001 A
0*
1+
#316000
b1111 .
#320000
0+
#325000
1*
1+
#330000
0+
#335000
b101 B
b1010 A
0*
1+
#336000
b10000 .
#340000
0+
#345000
1*
1+
#350000
0+
#355000
b100 B
b1011 A
0*
1+
#356000
b10001 .
#360000
0+
#365000
1*
1+
#370000
0+
#375000
b11 B
b1100 A
0*
1+
#376000
b10010 .
#380000
0+
#385000
1*
1+
#390000
0+
#395000
b10 B
b1101 A
0*
1+
#396000
b10011 .
#400000
0+
#405000
1*
1+
#410000
0+
#415000
b1 B
b1110 A
0*
1+
#416000
b10100 .
#420000
0+
#425000
b1 R
1*
1+
#430000
0+
#435000
b0 B
b1111 A
b1 Y
0*
1+
#436000
b11111111 b
b10101 .
#440000
0+
#445000
b10 R
1*
b11111111 )
b11111111 /
1+
#450000
0+
#455000
b10 Y
0*
1+
#456000
b11011010 b
b10110 .
#460000
0+
#465000
b11 R
1*
b11011010 )
b11011010 /
1+
#470000
0+
#475000
b11011010 E
b11 Y
0*
1+
#476000
b0 b
b10111 .
#480000
0+
#485000
b100 R
1*
b0 )
b0 /
1+
#490000
0+
#495000
b100 Y
0*
1+
#496000
b1100 b
b11000 .
#500000
0+
#505000
b1001 R
1*
b1100 )
b1100 /
1+
#510000
0+
#515000
b0 A
b1010 B
b1100 X
b1001 Y
0*
1+
#516000
b1010101 b
b11001 .
#520000
0+
#525000
1*
b1010101 )
b1010101 /
1+
#530000
0+
#535000
b1001 B
0*
1+
#536000
b11010 .
#540000
0+
#545000
1*
1+
#550000
0+
#555000
b1000 B
0*
1+
#556000
b11011 .
#560000
0+
#565000
1*
1+
#570000
0+
#575000
b111 B
0*
1+
#576000
b11100 .
#580000
0+
#585000
1*
1+
#590000
0+
#595000
b110 B
0*
1+
#596000
b11101 .
#600000
0+
#605000
1*
1+
#610000
0+
#615000
b101 B
0*
1+
#616000
b11110 .
#620000
0+
#625000
1*
1+
#630000
0+
#635000
b100 B
0*
1+
#636000
b11111 .
#640000
0+
#645000
1*
1+
#650000
0+
#655000
b11 B
0*
1+
#656000
b100000 .
#660000
0+
#665000
1*
1+
#670000
0+
#675000
b10 B
0*
1+
#676000
b100001 .
#680000
0+
#685000
1*
1+
#690000
0+
#695000
b1 B
0*
1+
#696000
b100010 .
#700000
0+
#705000
b1010 R
1*
1+
#710000
0+
#715000
b1011 R
b0 B
b1010 Y
0*
1+
#716000
b100011 .
#720000
0+
#725000
b10010011 b
1(
1!
b1011 Y
1+
#730000
0+
#735000
0!
1*
b10010011 )
b10010011 /
1+
#740000
0+
#745000
1"
b10010011 #
b10010011 W
b10010011 ]
0*
1+
#746000
b11111111 b
#750000
0+
#755000
1'
0"
0%
1_
b10010011 a
1*
b11111111 )
b11111111 /
1+
#760000
0+
#765000
1&
1"
b11111111 #
b11111111 W
b11111111 ]
0*
1+
#766000
b0 b
#770000
0+
#775000
0'
0"
b110 ^
b100110 a
1*
b0 )
b0 /
b1 -
1+
#780000
0+
#785000
b101 ^
b1001100 a
1"
b0 #
b0 W
b0 ]
0*
b10 -
1+
#786000
b10000001 b
#790000
0+
#795000
1'
0"
b100 ^
b10011000 a
1*
b10000001 )
b10000001 /
b11 -
1+
#800000
0+
#805000
0'
b11 ^
b110000 a
1"
b10000001 #
b10000001 W
b10000001 ]
0*
b100 -
1+
#810000
0+
#815000
0"
b10 ^
b1100000 a
b101 -
1+
#820000
0+
#825000
1'
b1 ^
b11000000 a
b110 -
1+
#830000
0+
#835000
b0 ^
b10000000 a
b111 -
1+
#840000
0+
#845000
1%
0&
0_
b1000 -
1+
#850000
0+
#855000
1+
#860000
0+
#865000
1+
#870000
0+
#875000
1+
#880000
0+
#885000
1+
#890000
0+
#895000
1+
#900000
0+
#905000
1+
#910000
0+
#915000
1+
#920000
0+
#925000
1+
#930000
0+
#935000
1+
#940000
0+
#945000
1+
#950000
0+
#955000
1+
#960000
0+
#965000
1+
#970000
0+
#975000
1+
#980000
0+
#985000
1+
#990000
0+
#995000
1+
#1000000
0+
#1005000
1+
#1006000
